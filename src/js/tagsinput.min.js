!function(t){"use strict";var a=function(){function t(t,a){for(var e in a){var n=a[e];n.configurable=!0,n.value&&(n.writable=!0)}Object.defineProperties(t,a)}return function(a,e,n){return e&&t(a.prototype,e),n&&t(a,n),a}}(),e=function(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")};!function(t){var n=t.fn.tagsinput,s={delimiter:",",inputClass:".tagsinput",labelClass:".label .label-info",onChange:function(){},onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){},debug:!1},i=function(){function n(a,i){var u=this;e(u,n),i.inputClass=i.inputClass.replace(/\./g,""),i.labelClass=i.labelClass.replace(/\./g,""),u._config=t.extend({},s,a.data(),i),u._$element=a instanceof jQuery?a:t(a),u._tagsListId="tagsinput-"+Date.now().toString().substr(6),u.$tagsInputTemplate=t('<input type="text" />'),u.$tagsInputWrapperTemplate=t('<div class="bootstrap-tagsinput" />'),u.$tagsItemTemplate=t('<span class="tag" />'),u.$tagsItemRemoveTemplate=t('<a href="#" class="remove" data-dismiss="tag" aria-hidden="true">[x]</a>'),u._$element.each(function(){u.tags=[],u.format="string",u.$input=t(this);var a=t("body");u.$tagsInputWrapperTemplate.attr("id",u._tagsListId),u.$input.css("display","none").removeAttr("class"),u.$input.attr("data-rel",u._tagsListId),u.$tagsInput=u.$tagsInputTemplate,u.$input.before(u.$tagsInput),u.$tagsInput.addClass(u._config.inputClass),u.$tagsInput.wrap(u.$tagsInputWrapperTemplate),t("#"+u._tagsListId).on("click",function(t){u.$tagsInput.focus()});var e=u.$input.val();try{u.tags={},u.format="json";var n=JSON.parse(e.split(u._config.delimiter));t.each(n,function(t,a){u.addTag(t,a)})}catch(a){u.tags=[],u.format="string",(n=e.split(u._config.delimiter)).length>0&&t.each(n,function(t,a){u.addTag(a)})}u.updateValues(),u.$tagsInput.on("keydown",function(t){var a=t.keyCode||t.which;if(13===a||43===a){var e=t.target.value.trim(),n=/([_a-z]\w*):\s*([^;]*)/gi.exec(e);null!==n?u.addTag(n[1],n[2]):u.addTag(e),u.updateValues(),t.target.value=""}}),u.$tagsInput.on("focusout",function(t){var a=t.target.value.trim();if(a.length>0){var e=/([_a-z]\w*):\s*([^;]*)/gi.exec(a);null!==e?u.addTag(e[1],e[2]):u.addTag(a),u.updateValues(),t.target.value=""}}),a.delegate("#"+u._tagsListId+' [data-dismiss="tag"]',"click",function(a){var e=t(a.target),n=e.data("value");u.removeTag(n)&&(e.parent(".label").remove(),u.updateValues())})})}return a(n,{element:{value:function(){return this._$element}},clearValues:{value:function(){this.$input.data("tags",[]),this.$input.val("")}},updateValues:{value:function(){this.$input.data("tags",this.tags),"json"==this.format?this.$input.val(JSON.stringify(this.tags)):this.$input.val(this.tags.join(this._config.delimiter))}},removeTag:{value:function(a){var e=this;if(a.length>0){if("json"==e.format)return t.each(this.tags,function(t,n){n==a&&delete e.tags[t]}),e.updateValues(),!0;var n=t.inArray(a,e.tags);if(parseInt(n)>=0&&e.tags.splice(n,1))return e.$input.hasClass("disabled")||(e._config.debug&&console.log("Call `onChange` method",e),e._config.onChange.call(e)),e.updateValues(),!0}return!1}},pushLabel:{value:function(t,a){var e=this.$tagsItemTemplate.clone(),n=this.$tagsItemRemoveTemplate.clone();n.data("index",t),n.data("value",a),e.addClass(this._config.labelClass),e.append(a).append(n),this.$tagsInput.before(e),this.$input.hasClass("disabled")||(this._config.debug&&console.log("Call `onChange` method",this),this._config.onChange.call(this))}},addTag:{value:function(a,e){if(void 0===e&&(e=a.trim(),a=!1),(e=e.trim()).length>0)if("json"==this.format){if(this.tags[a.toString()]=e)return this.pushLabel(a,e),a}else if(-1==t.inArray(e,this.tags)&&(a=this.tags.push(e)))return this.pushLabel(a,e),a;return!1}}},{Default:{get:function(){return s}},_jQueryInterface:{value:function(a){var e=this;if("string"==typeof a){if("items"==a){var s=t(e);return JSON.stringify(s.data("tags"))}return null}return a=a||{},e.each(function(){var s=t(e),i=t.extend({},n.Default,s.data(),"object"==typeof a&&a);new n(e,i)})}}}),n}();t.fn.tagsinput=i._jQueryInterface,t.fn.tagsinput.Constructor=i,t.fn.tagsinput.noConflict=function(){return t.fn.tagsinput=n,i._jQueryInterface}}(jQuery)}(jQuery);
//# sourceMappingURL=tagsinput.js.map